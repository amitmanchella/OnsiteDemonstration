<div class="loans-page">
  <div class="page-header">
    <h2>Loans</h2>
    <button class="btn-primary" routerLink="/loans/new">+ New Application</button>
  </div>

  <div class="filters">
    <label>Status Filter:</label>
    <select [(ngModel)]="filterStatus">
      <option value="all">All</option>
      <option value="pending">Pending</option>
      <option value="approved">Approved</option>
      <option value="active">Active</option>
      <option value="rejected">Rejected</option>
      <option value="closed">Closed</option>
    </select>
  </div>

  @if (loading) {
    <div class="loading">Loading loans...</div>
  }

  @if (!loading) {
    <app-data-table
      [data]="filteredLoans"
      [columns]="columns"
      [pageSize]="10"
    >
      <ng-template #rowActions let-loan>
        <button class="btn-view" (click)="viewLoan(loan.id)">View</button>
        @if (loan.status === 'pending') {
          <button class="btn-edit">Edit</button>
        }
      </ng-template>
    </app-data-table>
  }
</div>
